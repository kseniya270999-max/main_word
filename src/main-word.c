#include <stdio.h>                    // Подключаем стандартную библиотеку ввода-вывода
#include <ctype.h>                   // Подключаем библиотеку для работы с символами (isspace)
#include <string.h>                  // Подключаем библиотеку для работы со строками (strlen)

/*
5. **Подсчет числа слов в строке**:
Напишите функцию, которая принимает строку в 
качестве входного параметра и возвращает количество слов в строке.
Одинцова Ксения ЗО71205
*/

// Функция count_words подсчитывает количество слов в строке str
int count_words(const char *str) {
    int count = 0;                   // Инициализируем счетчик слов нулем
    int in_word = 0;                 // Флаг, показывающий, находимся ли внутри слова

    while (*str) {                  // Пока текущий символ не нулевой (не конец строки)
        if (isspace((unsigned char)*str)) { // Если символ пробельный
            in_word = 0;            // Считаем, что мы вышли из слова
        } else {                    // Если символ не пробельный
            if (!in_word) {         // Если мы были вне слова, переходим в слово
                count++;            // Увеличиваем счетчик слов
                in_word = 1;        // Помечаем, что внутри слова
            }
        }
        str++;                      // Переходим к следующему символу
    }
    return count;                   // Возвращаем количество слов
}

int main() {
    char s[1000];                   // Буфер для ввода строки (максимум 999 символов + '\0')

    printf("Enter the string: ");  // Запрашиваем ввод строки
    if (!fgets(s, sizeof(s), stdin)) {  // Считываем строку, если ошибка ввода
        printf("Error reading input\n"); // Сообщаем об ошибке
        return 1;                  // Завершаем программу с кодом ошибки
    }

    size_t len = strlen(s);         // Получаем длину введенной строки
    if (len > 0 && s[len-1] == '\n') { // Если в конце есть символ новой строки
        s[len-1] = '\0';            // Заменяем его на нулевой символ, чтобы удалить
    }

    int words = count_words(s);     // Подсчитываем количество слов в строке
    printf("Number of words in string = %d\n", words);  // Выводим результат

    return 0;                      // Успешное завершение программы
}

